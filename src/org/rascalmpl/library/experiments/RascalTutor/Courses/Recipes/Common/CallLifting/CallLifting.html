<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Recipes/Common/CallLifting</title>
<link type="text/css" rel="stylesheet" href="/Courses/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/Courses/jquery.autocomplete.css"/>
<script type="text/javascript" src="/Courses/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/Courses/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/Courses/jquery.cookie.js"></script>
<script type="text/javascript" src="/Courses/jquery.jstree.js"></script>
<script type="text/javascript" src="/Courses/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/Courses/jquery.history.js"></script>
<script type="text/javascript" src="/Courses/globals.js"></script>
<script type="text/javascript" src="/Courses/prelude.js"></script>
<script type="text/javascript" src="/Courses/Recipes/course.js"></script>

</head>
<body>
<a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a><table id="container"><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Courses/Recipes/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Courses/Recipes/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Courses/Recipes/Recipes.html">Recipes</a>/<a href="/Courses/Recipes/Common/Common.html">Common</a>/<a href="/Courses/Recipes/Common/CallLifting/CallLifting.html">CallLifting</a>
</div>

<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/Courses/images/magnify.png">
    <input type="hidden" name="concept" value="Recipes/Common/CallLifting">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         
<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Lift procedure calls to component calls.

</div>

<div id="Description">
<span class="sectionHead">Description</span>  A frequently occurring problem is that we know the call relation of a system but that we want to understand it at the component level rather than at the procedure level. If it is known to which component each procedure belongs, it is possible to lift the call relation to the component level. Actual lifting amounts to translating each call between procedures by a call between components. 

</div>

<div id="Examples">
<span class="sectionHead">Examples</span>  Consider the following figure:
 <br/>
<br/>

 <img class="TutorImg" width="500px"  title="Module Parts" alt="Module Parts" src="/Courses/Recipes/Common/CallLifting/parts.png">
 <br/>
<br/>

 (a) Shows the calls between procedures;
 (b) shows how procedures are part of a system component.
 (c) shows how the call relation given in (a) can be lifted to the component level.
 <br/>
<br/>

 The situation can be characterized by:
 <ul><li> A call relation between procedures</li>
<li> A partOf relation between procedures and components</li>
</ul> The problem is now to lift the call relation using the information in the partOf relation.
 In other words: a call between two procedures will be lifted to
 a call between the components to which each procedure belongs.
 <br/>
<br/>

 Here is a solution:
 <pre class="listing">module demo::common::Lift

alias proc = str;
alias comp = str;

public rel[comp,comp] lift(rel[proc,proc] aCalls, rel[proc,comp] aPartOf){
	return { &lt;C1, C2> | &lt;proc P1, proc P2> &lt;- aCalls, &lt;comp C1, comp C2> &lt;- aPartOf[P1] * aPartOf[P2]};
}

</pre> <pre class="screen"><b>rascal></b>import demo::common::Lift;
ok
</pre>
  Encode the call relation and partOf relation:

<pre class="screen"><b>rascal></b>calls = {&lt;&quot;main&quot;, &quot;a&quot;&gt;, &lt;&quot;main&quot;, &quot;b&quot;&gt;, &lt;&quot;a&quot;, &quot;b&quot;&gt;, &lt;&quot;a&quot;, &quot;c&quot;&gt;, &lt;&quot;a&quot;, &quot;d&quot;&gt;, &lt;&quot;b&quot;, &quot;d&quot;&gt;};        
rel[str, str]: {
  &lt;&quot;a&quot;,&quot;c&quot;&gt;,
  &lt;&quot;a&quot;,&quot;b&quot;&gt;,
  &lt;&quot;main&quot;,&quot;a&quot;&gt;,
  &lt;&quot;b&quot;,&quot;d&quot;&gt;,
  &lt;&quot;main&quot;,&quot;b&quot;&gt;,
  &lt;&quot;a&quot;,&quot;d&quot;&gt;
}
<b>rascal></b>partOf = {&lt;&quot;main&quot;, &quot;Appl&quot;&gt;, &lt;&quot;a&quot;, &quot;Appl&quot;&gt;, &lt;&quot;b&quot;, &quot;DB&quot;&gt;, &lt;&quot;c&quot;, &quot;Lib&quot;&gt;, &lt;&quot;d&quot;, &quot;Lib&quot;&gt;};
rel[str, str]: {
  &lt;&quot;c&quot;,&quot;Lib&quot;&gt;,
  &lt;&quot;a&quot;,&quot;Appl&quot;&gt;,
  &lt;&quot;d&quot;,&quot;Lib&quot;&gt;,
  &lt;&quot;main&quot;,&quot;Appl&quot;&gt;,
  &lt;&quot;b&quot;,&quot;DB&quot;&gt;
}
</pre>
  and do the lifting:

<pre class="screen"><b>rascal></b>lift(calls, partOf);
rel[comp, comp]: {
  &lt;&quot;Appl&quot;,&quot;DB&quot;&gt;,
  &lt;&quot;Appl&quot;,&quot;Appl&quot;&gt;,
  &lt;&quot;Appl&quot;,&quot;Lib&quot;&gt;,
  &lt;&quot;DB&quot;,&quot;Lib&quot;&gt;
}
</pre>
  Please verify that this corresponds exactly to (c) in the figure above.


</div>

<a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Recipes/Common/CallLifting&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Recipes/Common/CallLifting&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Recipes"><b>Compile Course</b></a>] |
               [<a id="compileAction" href="/compile?name=Recipes&flags=regenerate"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Courses/Recipes/warnings.html"><b>Warnings</b></a>]</div>

</div>
</td></tr></table>
</body>
</html>