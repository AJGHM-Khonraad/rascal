concept("Regular",|std:///experiments/RascalTutor/Courses/Rascal/Expressions/Patterns/Regular/Regular.concept|,[],[],{},{},"","","","",{}," Regular expressions are used to match a string value and to decompose it in parts and also to compose new strings. Regular expression patterns bind variables of type \<code\>\n  str\n\</code\> when the match succeeds, otherwise they do not bind anything. \n They can occur in cases of visit and switch statements, \n on the left-hand side of the match operator (\<code\>\n  :=\n\</code\> or \<code\>\n  !:=\n\</code\>) and as declarator in enumerators.\n \<br/\>\n\<br/\>\n\n We use a regular expression language that slightly extends/modifies the Java Regex language:\n  \<ul\>\n  \<li\> Regular expression are delimited by \<code\>\n    /\n  \</code\> and \<code\>\n    /\n  \</code\> optionally followed by modifiers (see below).\</li\>\n  \<li\> We allow \<i\>variable introductions\</i\>, syntax \<code\>\n    &lt;\<i\>Name\</i\>:\<i\>Regex\</i\>\>\n  \</code\>, which introduce a variable of type \<code\>\n    str\n  \</code\> named \<code\>\n    \<i\>Name\</i\>\n  \</code\>. A variable introduction corresponds to a group in a Java regexp. Each variable that is introduced should be unique, but may be referenced more than once later in the regular expression.\</li\>\n  \<li\> Regular expressions may also contain \<i\>references to variables\</i\>, syntax \<code\>\n    &lt;\<i\>Name\</i\>\>\n  \</code\>, the string value of variable \<code\>\n    \<i\>Name\</i\>\n  \</code\> is used at the position of the variable reference. \n   This can be used to define so-called \<i\>non-linear\</i\> patterns.\n  \</li\>\n  \<li\> Java regular expressions allow optional groups, which may introduce null bindings. Since uninitialized variables are not allowed in Rascal, we limit the kinds of expressions one can write here by not allowing nesting of variable introductions.\</li\>\n  \<li\> We allow variable references in a regular expression of the form: \<code\>\n    &lt;\<i\>Name\</i\>\>\n  \</code\> which inserts the string value of \<code\>\n    \<i\>Name\</i\>\n  \</code\> in the pattern. \<code\>\n    \<i\>Name\</i\>\n  \</code\> should have been introduced in the regular experession itself or in the context in which the regular expression occurs.\</li\>\n  \<li\> In Perl matching options \<i\>follow\</i\> the regular expression, but Java uses the notation \<code\>\n    (?Option)\n  \</code\>  at the \<i\>beginning\</i\> of the regular expression to set matching options. We support both styles. \n   The following modifiers are supported:\n   \<ul\>\n    \<li\>\<i\>multi-line matching\</i\>: \<code\>\n      (?m)\n    \</code\> at the start of the regular expression or the modifier \<code\>\n      m\n    \</code\> at the end of the regular expression. The anchors \<code\>\n      ^\n    \</code\> and \<code\>\n      $\n    \</code\> usually only match at the beginning and end of the subject string. When this option is set they also match any begin or end of line that is embedded in the subject string. Examples:\n    \</li\>\n    \<li\>\<i\>case-insensitive matching\</i\>: \<code\>\n      (?i)\n    \</code\> or modifier \<code\>\n      i\n    \</code\>. Match characters irrespective of their case.\</li\>\n    \<li\>\<i\>single-line mode\</i\>: \<code\>\n      (?s)\n    \</code\> or modifer \<code\>\n      s\n    \</code\>. The \<code\>\n      .\n    \</code\> expression does usually not match line terminators. When single-line mode is set, it will match any character including line terminators.\</li\>\n    \<li\>\<i\>unix lines\</i\>: \<code\>\n      (?d)\n    \</code\> or modifier \<code\>\n      d\n    \</code\>. Usually newlines (\<code\>\n      \\n\n    \</code\>), carriage return (\<code\>\n      \\r\n    \</code\>) and new line carriage return (\<code\>\n      \\n\\r\n    \</code\>) sequences are all considered line terminators. When this option is set, only newline is considered to be a line terminator.\</li\>\n    \n  \</ul\>\</li\>\n  \n\</ul\> For convenience, we summarize the most frequently used constructs in regular expressions in the following table.\n \<br/\>\n\<br/\>\n\n \<table\>\n \<caption\>Frequently used elements of Regular Expression Syntax\</caption\>\n \<br/\>\n\<br/\>\n\n \<tr\>\<th align=\"left\"\>Operator\</th\>\t\<th align=\"left\"\>Description\</th\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x\n\</code\>\</td\>               \<td\>The single character \<code\>\n  x\n\</code\> as long as it is not a punctuation character with a \n                                                         special meaning in the regular expression syntax\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\p\n\</code\>\</td\>              \<td\>The punctuation character \<code\>\n  p\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\\\\n\</code\>\</td\>              \<td\>The backslah character\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\n\n\</code\>\</td\>              \<td\> Newline character\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\t\n\</code\>\</td\>               \<td\> Tab character\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  [...]\n\</code\>\</td\>             \<td\> One of the characters between the brackets (also known as \<i\>character class\</i\>). \n                                                          Character ranges and set operations on character classes may be used.\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  [^...]\n\</code\>\</td\>           \<td\> Any one character not between the brackets.\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  [a-z0-9]\n\</code\>  \</td\>  \<td\> Character range: character between \<code\>\n  a\n\</code\> and \<code\>\n  z\n\</code\> or \<code\>\n  0\n\</code\> and \<code\>\n  9\n\</code\>.\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\d\n\</code\>\</td\>              \<td\> Digit: \<code\>\n  [0-9]\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\D\n\</code\>\</td\>              \<td\> Non-digit:\<code\>\n   [^0-9]\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\s\n\</code\>\</td\>               \<td\> Whitespace\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\S\n\</code\>\</td\>               \<td\> Anything but whitespace.\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\w\n\</code\>\</td\>               \<td\> A word: \<code\>\n  [a-zA-Z0-9_]\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\W\n\</code\>\</td\>              \<td\> A non-word:\<code\>\n   [^\\w]\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  xy\n\</code\>\</td\>                \<td\> Match \<code\>\n  x\n\</code\> followed by \<code\>\n  y\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x|y\n\</code\>\</td\>              \<td\> Match \<code\>\n  x\n\</code\> or \<code\>\n  y\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x?\n\</code\>\</td\>               \<td\> Optional occurrence of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x*\n\</code\>\</td\>               \<td\> Zero or more occurrences of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x+\n\</code\>\</td\>              \<td\>\tOne or more occurrences of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x{n}\n\</code\>\</td\>            \<td\>\tExactly \<code\>\n  n\n\</code\> occurrences of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x{n,}\n\</code\>\</td\>           \<td\>\t\<code\>\n  n\n\</code\> or more occurrences of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  x{n,m}\n\</code\>\</td\>        \<td\>\tAt least \<code\>\n  n\n\</code\>, at most \<code\>\n  m\n\</code\> occurrences of \<code\>\n  x\n\</code\>\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  ^\n\</code\>\</td\>                \<td\>\tThe beginning of the subject string\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  $\n\</code\>\</td\>                \<td\>\tThe end of the input string\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\b\n\</code\>\</td\>              \<td\>\tWord boundary: position between a word and a non-word character\</td\>\</tr\>\n \<tr\>\<td\>\<code\>\n  \\B\n\</code\>\</td\>              \<td\>\tNon-word boundary: position that is a not a word boundary\</td\>\</tr\>\n \</table\>\n"," Here are some examples of regular expression patterns.\n \<pre class=\"listing\"\>/\\brascal\\b/i\n\</pre\> does a case-insensitive match (\<code\>\n  i\n\</code\>) of the word \<code\>\n  rascal\n\</code\> between word boundaries (\<code\>\n  \\b\n\</code\>). And\n \<pre class=\"listing\"\>/^.*?&lt;word:\\w+\>&lt;rest:.*$\>/m\n\</pre\> does a multi-line match (\<code\>\n  m\n\</code\>), matches the first consecutive word characters (\<code\>\n  \\w\n\</code\>) and assigns them to the variable \<code\>\n  word\n\</code\>. The remainder of the string is assigned to the variable \<code\>\n  rest\n\</code\>. \n \<br/\>\n\<br/\>\n\n \<br/\>\n\<br/\>\n\n A variable reference used to make a non-linear pattern:\n \<pre class=\"listing\"\>/&lt;x:[a-z]+\>---&lt;x\>/\n\</pre\> matches strings like \<code\>\n  abc---abc\n\</code\> that consist of two identical sequences of letters separated \n by three dashes. Variables that are referenced in a regular expression may also come from \n the context in which the regular expression occurs. For instance,\n \<pre class=\"listing\"\>/&lt;x\>&lt;n\>/\n\</pre\> will use the current values of \<code\>\n  x\n\</code\> and \<code\>\n  n\n\</code\> as regular expression. For values \<code\>\n  \"abc\"\n\</code\>, respectively, \<code\>\n  3\n\</code\> this would be equivalent to the regular expression:\n \<pre class=\"listing\"\>/abc3/\n\</pre\> Observe that context variables may be of arbitrary type and that their value is first converted to \n a string before it is inserted in the regular expression. This can be used in many ways. \n For instance, regular expressions may contain restrictions on the number of repetitions \n of an element: \<code\>\n  /a{3}/\n\</code\> will match exactly three letters a. Also minimum and maximum \n number of occurrences can be defined. \n Here is how the repetition count can be inserted by a variable reference \n (where \<code\>\n  n\n\</code\> is assumed to have an integer value):\n  \<pre class=\"listing\"\>/a{&lt;n\>}/\n\</pre\> Taking this example one step further, we can even write\n  \<pre class=\"listing\"\>/&lt;x:a{&lt;n\>}\>/\n\</pre\> in other words, we introduce variable \<code\>\n  x\n\</code\> and its defining regular expression contains a \n reference to a context variable.\n \<br/\>\n\<br/\>\n\n \<br/\>\n\<br/\>\n\n Multi-line matching:\n \<pre class=\"screen\"\>\<b\>rascal\>\</b\>/XX$/ := &quot;lineoneXX\\nlinetwo&quot;;\nbool: false\n\<b\>rascal\>\</b\>/XX$/m := &quot;lineoneXX\\nlinetwo&quot;;\nbool: true\n\<b\>rascal\>\</b\>/(?m)XX$/ := &quot;lineoneXX\\nlinetwo&quot;;\nbool: true\n\</pre\> Case-insensitive matching:\n \<pre class=\"screen\"\>\<b\>rascal\>\</b\>/XX/ := &quot;some xx&quot;;\nbool: false\n\<b\>rascal\>\</b\>/XX/i := &quot;some xx&quot;;\nbool: true\n\<b\>rascal\>\</b\>/(?i)XX/ := &quot;some xx&quot;;\nbool: true\n\</pre\> Single-line mode:\n \<pre class=\"screen\"\>\<b\>rascal\>\</b\>/a.c/ := &quot;abc&quot;;\nbool: true\n\<b\>rascal\>\</b\>/a.c/ := &quot;a\\nc&quot;;\nbool: false\n\<b\>rascal\>\</b\>/a.c/s := &quot;a\\nc&quot;;\nbool: true\n\<b\>rascal\>\</b\>/(?s)a.c/ := &quot;a\\nc&quot;;\nbool: true\n\</pre\>","","",[])