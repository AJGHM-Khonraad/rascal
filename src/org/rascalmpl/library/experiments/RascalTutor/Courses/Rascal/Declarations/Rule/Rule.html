<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Rascal/Declarations/Rule</title>
<link type="text/css" rel="stylesheet" href="/Courses/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/Courses/jquery.autocomplete.css"/>
<script type="text/javascript" src="/Courses/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/Courses/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/Courses/jquery.cookie.js"></script>
<script type="text/javascript" src="/Courses/jquery.jstree.js"></script>
<script type="text/javascript" src="/Courses/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/Courses/jquery.history.js"></script>
<script type="text/javascript" src="/Courses/globals.js"></script>
<script type="text/javascript" src="/Courses/prelude.js"></script>
<script type="text/javascript" src="/Courses/Rascal/course.js"></script>

</head>
<body>
<a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a><table id="container"><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Courses/Rascal/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Courses/Rascal/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Courses/Rascal/Rascal.html">Rascal</a>/<a href="/Courses/Rascal/Declarations/Declarations.html">Declarations</a>/<a href="/Courses/Rascal/Declarations/Rule/Rule.html">Rule</a>
</div>

<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/Courses/images/magnify.png">
    <input type="hidden" name="concept" value="Rascal/Declarations/Rule">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         
<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Declare a rewrite rule.

</div>

<div id="Syntax">
<span class="sectionHead">Syntax</span>  <code>rule <i>Name</i> <i>PatternWithAction</i>;</code>

</div>

<div id="Description">
<span class="sectionHead">Description</span>  Functions are the workhorses of Rascal. They can have any value as parameter or result and are explicitly called by the user. Also, functions are declared inside modules and their visibility can be controlled.
 <br/>
<br/>

 Rewrite rules, on the other hand, operate only on nodes and <a href="/Courses/Rascal/Declarations/AlgebraicDataType/AlgebraicDataType.html">Declarations/AlgebraicDataType</a>, they are implicitly applied when a 
 new value (we refer to this as the <i>subject</i> value) is constructed. The scope of rewrite rules is the whole Rascal program. 
 Rewrite rules are applied to the subject value in a bottom-up fashion. As a result, the subject value may be changed. 
 This process is repeated as long as there are rules that can be applied to the current subject value. 
 Technically, this is called <i>innermost rewriting</i>. When done, the result of rewriting the original subject value is used instead of that original value.
 <br/>
<br/>

 <br/>
<br/>

 During execution of rules the following applies:
  <ul><li> Rules are applied non-deterministically, and in any order of matching.</li>
<li> The right-hand side of rules can contain fail statements, which cause backtracking over the alternative matches or alternative rules for a certain constructor.</li>
<li> When the right-hand side is a statement, an <a href="/Courses/Rascal/Statements/Insert/Insert.html">Insert</a> statement determines the value of the actual replacement. </li>
</ul>
</div>

<div id="Examples">
<span class="sectionHead">Examples</span>  
  First define an Algebraic Data Type <code>Bool</code> that represents Booleans:

<pre class="screen"><b>rascal></b>data Bool = btrue()
&gt;&gt;&gt;&gt;&gt;&gt;&gt;          | bfalse()
&gt;&gt;&gt;&gt;&gt;&gt;&gt;          | band(Bool left, Bool right)
&gt;&gt;&gt;&gt;&gt;&gt;&gt;          | bor(Bool left, Bool right);
ok
</pre>
  Next define some classic rewrite rules on Bool:

<pre class="screen"><b>rascal></b>rule a1 band(btrue(), Bool B)    =&gt; B;
ok
<b>rascal></b>rule a2 band(bfalse(), Bool B)   =&gt; bfalse;
ok
<b>rascal></b>band(band(btrue(),btrue()),band(btrue(), bfalse()));
Bool: bfalse()
</pre> You may wonder why we write btrue and bfalse instead of true and false. The explanation is that the latter are reserved words that cannot be used as ordinary names. Reserved words can, however, be used as ordinary names by escaping them; this is done by prefixing them with a backslash (<code>\</code>), e.g. <code>\true</code> and <code>\false</code>.

</div>

<a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Rascal/Declarations/Rule&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Rascal/Declarations/Rule&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal"><b>Compile Course</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal&flags=regenerate"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Courses/Rascal/warnings.html"><b>Warnings</b></a>]</div>

</div>
</td></tr></table>
</body>
</html>