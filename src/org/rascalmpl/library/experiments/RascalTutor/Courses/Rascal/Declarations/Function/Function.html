<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: Generated by CourseCompiler at $2011-09-06T18:40:10.569+0200 ---->


<head>
<title>Rascal/Declarations/Function</title>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Courses/Rascal/course.js"></script>
<link type="text/css" rel="stylesheet" href="prelude.css"/>

</head>
<body>
<a id="tutorAction" href="Courses/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a>
<div id="Name">
<span class="sectionHead">Name</span> <a href="/show?concept=Rascal">Rascal</a>/<a href="/show?concept=Rascal/Declarations">Declarations</a>/<a href="/show?concept=Rascal/Declarations/Function">Function</a>
</div>

<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="images/magnify.png">
    <input type="hidden" name="concept" value="Rascal/Declarations/Function">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         
<div id="Syntax">
<span class="sectionHead">Syntax</span>  <ol><li> <code><i>Type</i> <i>Name</i>( <i>Type</i><sub>1</sub> <i>Var</i><sub>1</sub>, ..., <i>Type</i><sub>n</sub> <i>Var</i><sub>n</sub> ) <i>Statement</i></code></li>
<li> <code><i>Type</i> <i>Name</i>( <i>Type</i><sub>1</sub> <i>Var</i><sub>1</sub>, ..., <i>Type</i><sub>n</sub> <i>Var</i><sub>n</sub> <i>Type</i><sub>0</sub> <i>Name</i><sub>0</sub>... ) <i>Statement</i></code></li>
<li> <code><i>Type</i> <i>Name</i>( <i>Type</i><sub>1</sub> <i>Var</i><sub>1</sub>, ..., <i>Type</i><sub>n</sub> <i>Var</i><sub>n</sub> ) throws <i>Exception</i><sub>1</sub>, <i>Exception</i><sub>2</sub>, ... <i>Statement</i> </code></li>
</ol>
</div>

<div id="Description">
<span class="sectionHead">Description</span>  <h2> Variant 1 </h2>
 A function declaration introduces a new function with name <code><i>Name</i></code>, typed formal parameters <code><i>Type</i><sub>1</sub> <i>Var</i><sub>1</sub></code>, a return type <code><i>Type</i></code>
 and a <code><i>Statement</i></code> that forms the function body.
 The type of <code><i>Statement</i></code> should be equal to <code><i>Type</i></code>.
 <br/>
<br/>

 The formal parameters may be used in <code><i>Statement</i></code> and get their value when function <code><i>Name</i></code> is invoked.
  <h2> Variant 2 </h2>
 A function may have a variable list of arguments, this has as syntax variant 2 given above.
 <br/>
<br/>

 The last parameter of a function may be followed by <code>...</code> and this has as effect that all remaining actual parameters
 that occur in a call to this function are collected as list value of the last formal parameter. 
 Inside the function body, the type of this parameter will therefore be <code>list[<i>Type</i><sub>0</sub>]</code>.
  <h2> Variant 3 </h2>
 The exceptions that can be thrown by a function can be (optionally) declared as shown in syntax variant 3 above. 
  <h2> Parameterized types in function declaration </h2>
 The types that occur in function declarations may also contain <a href="javascript:show('Rascal/Declarations/Function','TypeParameters')">TypeParameters</a>.
 In this way functions can be defined for arbitrary types. The type variable is bound at the moment the function is called.

</div>

<div id="Examples">
<span class="sectionHead">Examples</span>  <pre class="screen"></pre>
  Declare a function

<pre class="screen"><b>rascal></b>rel[int, int] invert(rel[int,int] R){
&gt;&gt;&gt;&gt;&gt;&gt;&gt;   return {&lt;Y, X&gt; | &lt;int X, int Y&gt; &lt;- R };
&gt;&gt;&gt;&gt;&gt;&gt;&gt;}
rel[int, int] (rel[int, int]): rel[int, int] invert(rel[int, int]);
</pre>
  Call it

<pre class="screen"><b>rascal></b>invert({&lt;1,10&gt;, &lt;2,20&gt;});
rel[int, int]: {
  &lt;20,2&gt;,
  &lt;10,1&gt;
}
</pre> In the following example we illustrate the use of type vriables in function declarations.
 Declare an inversion function that is applicable to any binary relation:
 <pre class="screen"><b>rascal></b>rel[&amp;T2, &amp;T1] invert2(rel[&amp;T1,&amp;T2] R){  
&gt;&gt;&gt;&gt;&gt;&gt;&gt;   return {&lt;Y, X&gt; | &lt;&amp;T1 X, &amp;T2 Y&gt; &lt;- R };
&gt;&gt;&gt;&gt;&gt;&gt;&gt;}
rel[&amp;T2, &amp;T1] (rel[&amp;T1, &amp;T2]): rel[&amp;T2, &amp;T1] invert2(rel[&amp;T1, &amp;T2]);
</pre>
 Now apply it to relations with different types:

<pre class="screen"><b>rascal></b>invert2({&lt;1,10&gt;, &lt;2,20&gt;});
rel[int, int]: {
  &lt;20,2&gt;,
  &lt;10,1&gt;
}
<b>rascal></b>invert2({&lt;&quot;mon&quot;, 1&gt;, &lt;&quot;tue&quot;, 2&gt;});
rel[int, str]: {
  &lt;1,&quot;mon&quot;&gt;,
  &lt;2,&quot;tue&quot;&gt;
}
</pre>
  As another example declare a function that can be used to swap the elements of pairs of arbitrary types
  (also see <a href="javascript:show('Rascal/Declarations/Function','Tuple/Subscription')">Tuple/Subscription</a>):

<pre class="screen"><b>rascal></b>tuple[&amp;T2, &amp;T1] swap(tuple[&amp;T1, &amp;T2] TP) { return &lt;TP[1], TP[0]&gt;;}
tuple[&amp;T2,&amp;T1] (tuple[&amp;T1,&amp;T2]): tuple[&amp;T2,&amp;T1] swap(tuple[&amp;T1,&amp;T2]);
<b>rascal></b>swap(&lt;1, 2&gt;);
tuple[int,int]: &lt;2,1&gt;
<b>rascal></b>swap(&lt;&quot;wed&quot;, 3&gt;);
tuple[int,str]: &lt;3,&quot;wed&quot;&gt;
</pre>
</div>

<div id="editMenu"><a id="tutorAction" href="Courses/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a>[<a id="editAction" href="/edit?concept=Rascal/Declarations/Function&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Rascal/Declarations/Function&new=true"><b>New</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal"><b>Compile Course</b></a>] |
               [<a id="warnAction" href="Courses/Rascal/warnings.html"><b>Warnings</b></a>]</div>

</body>
</html>