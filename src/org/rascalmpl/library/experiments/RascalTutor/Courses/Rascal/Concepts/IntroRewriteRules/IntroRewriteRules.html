<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Rascal/Concepts/IntroRewriteRules</title>

<meta name="description" content="Rascal/Concepts/IntroRewriteRules:  Concept: _Rewrite rules_.">

<meta name="keywords" content="Rascal/Concepts/IntroRewriteRules, Rascal, meta-programming, software analysis, software transformation">
<link type="text/css" rel="stylesheet" href="/Courses/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/Courses/jquery.autocomplete.css"/>
<script type="text/javascript" src="/Courses/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/Courses/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/Courses/jquery.cookie.js"></script>
<script type="text/javascript" src="/Courses/jquery.jstree.js"></script>
<script type="text/javascript" src="/Courses/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/Courses/jquery.history.js"></script>
<script type="text/javascript" src="/Courses/globals.js"></script>
<script type="text/javascript" src="/Courses/prelude.js"></script>
<script type="text/javascript" src="/Courses/Rascal/course.js"></script>

</head>
<body>
<table id="container"><tr><td id="tdlogo"><a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a></td><td id="tdsearch">
<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/Courses/images/magnify.png">
    <input type="hidden" name="concept" value="Rascal/Concepts/IntroRewriteRules">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         </td></tr><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Courses/Rascal/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Courses/Rascal/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Courses/Rascal/Rascal.html">Rascal</a>/<a href="/Courses/Rascal/Concepts/Concepts.html">Concepts</a>/<a href="/Courses/Rascal/Concepts/IntroRewriteRules/IntroRewriteRules.html">IntroRewriteRules</a>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Concept: <i>Rewrite rules</i>.

</div>

	                       
                           
                           
<div id="Description">
<span class="sectionHead">Description</span>  <warning>Rewrite rules are being phased out in favour of pattern-directed invocation that can achieve the same, see <a href="/Courses/Rascal/Declarations/Function/Function.html">Function</a>
 </warning>
 <br/>
<br/>

 A rewrite rule is a recipe on how to simplify values. 
 Remember: (<code><i>a</i></code> + <code><i>b</i></code>)<code><i></i><sup>2</sup></code> = <code><i>a</i><sup>2</sup></code> + 2<code><i>ab</i></code> + <code><i>b</i><sup>2</sup></code>? 
 A rewrite rule has a pattern as left-hand side (here: (<code><i>a</i></code> + <code><i>b</i></code>)<code><i></i><sup>2</sup></code> and a replacement as 
 right-hand side (here: <code><i>a</i><sup>2</sup></code> + 2<code><i>ab</i></code> + <code><i>b</i><sup>2</sup></code>). 
 Given a value and a set of rewrite rules the patterns are tried on every subpart of the value and replacements are made if a match is successful. This is repeated as long as some pattern matches.
 <br/>
<br/>

 Rewrite rules are the only implicit control mechanism in the language and are used to maintain invariants 
 during computations.
 Since rewrite rules are activated automatically, one may always assume that expressions are in simplified form.

</div>

  	                       
<div id="Examples">
<span class="sectionHead">Examples</span>  In a package for symbolic differentiation it is desirable to keep expressions in simplified form in order 
 to avoid intermediate results like <code>sum(product(num(1), x), product(num(0), y))</code> that can be simplified to <code>x</code>. 
 The following rules achieve this:
 <pre class="listing">rule simplify1 product(num(1), Expression e) => e;
rule simplify2 product(Expression e, num(1)) => e;
rule simplify3 product(num(0), Expression e) => num(0);
rule simplify4 product(Expression e, num(0)) => num(0);
rule simplify5 sum(num(0), Expression e)     => e;
rule simplify6 sum(Expression e, num(0))     => e;
</pre> Whenever a new value of type <code>Expression</code> is constructed during symbolic differentiation, these rules are <i>implicitly</i> applied 
 to that expression and all its subexpressions and when a pattern at the left-hand side of a rule applies the matching subexpression is replaced by the right-hand side of the rule. This is repeated as long as any rule can be applied.

</div>

  	                       
  	                       
<div id="Pitfalls">
<span class="sectionHead">Pitfalls</span>  Rewrite rules are <i>Turing complete</i>, in other words any computable function can be defined using rewrite rules, 
 including functions that do not terminate. This is a point of attention when using rewrite rules.

</div>

  	                       
<a id="tutorAction" href="/Courses/index.html"><img id="leftIcon" height="40" width="40" src="/Courses/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Rascal/Concepts/IntroRewriteRules&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Rascal/Concepts/IntroRewriteRules&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Courses/Rascal/warnings.html"><b>Warnings</b></a>]</div>

</div>
</td></tr></table>
</body>
</html>