concept("PatternWithAction",|cwd:///src/org/rascalmpl/library/experiments/RascalTutor/Courses/Rascal/Expressions/Patterns/PatternWithAction/PatternWithAction.concept|,[],[],{},{"Rule","Visit","Insert","Switch"},"","\<ol\>\n\<li\> \<code\>\<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\</code\>\</li\>\n\<li\> \<code\>\<i\>Pattern\</i\>: \<i\>Statement\</i\>\</code\>\</li\>\n\n\</ol\>\n","","",{":","=\>"},"Patterns can be used in various contexts, but a common context is a PatternWithAction, \nwhich in its turn, may be used in various statements such \<a href=\"/show?concept=Switch\"\>Switch\</a\>, \<a href=\"/show?concept=Visit\"\>Visit\</a\> and \<a href=\"/show?concept=Rule\"\>Rule\</a\>.\n\nThere are two variants as listed above:\n\n\<ol\>\n\<li\> When the subject matches \<code\>\<i\>Pattern\</i\>\</code\>, the expression \<code\>\<i\>Exp\</i\>\</code\> is evaluated and the subject is replaced with the result.\</li\>\n\<li\> When the subject matches Pat, the Statement is executed.\</li\>\n\n\</ol\>\nIn \<a href=\"/show?concept=Switch\"\>Switch\</a\> statements, only the form \<code\>\<i\>Pattern\</i\> : \<i\>Statement\</i\>\</code\> is allowed. \nWhen the subject matches \<code\>\<i\>Pattern\</i\>\</code\>, the \<code\>\<i\>Statement\</i\>\</code\> is executed and the execution of the switch statement is complete. \nHowever, when a fail statement is executed in \<code\>\<i\>Statement\</i\>\</code\> all its side effects are undone and further alternatives of\n\<code\>\<i\>Pattern\</i\>\</code\> are tried. If no alternatives remain, PatternWithAction as a whole fails and subsequent cases of \nthe switch statement are tried.\n\<br/\>\n\<br/\>\nIn \<a href=\"/show?concept=Visit\"\>Visit\</a\> expressions, the form \<code\>\<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\</code\> describes subtree replacement: \nthe current subtree of the subject of the visit expression is replaced by the value of \<code\>\<i\>Exp\</i\>\</code\>. \nThe form \<code\>\<i\>Pattern\</i\> : \<i\>Statement\</i\>\</code\> is as described for switch statements, with the addition that execution of an \n\<a href=\"/show?concept=Insert\"\>Insert\</a\> statement will replace the current subtree. After both succes or failure of the PatternWithAction, \nthe traversal of the subject continues.\n\<br/\>\n\<br/\>\nIn rewrite rules, see \<a href=\"/show?concept=Rule\"\>Rule\</a\>, both forms are allowed. The form \<code\>\<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\</code\> behaves as described for visit expressions.\nThe form \<code\>\<i\>Pattern\</i\> : \<i\>Statement\</i\>\</code\> is as described for switch statement. If the PatternWithAction fails another\nrule will be tried. \n","","","",[])