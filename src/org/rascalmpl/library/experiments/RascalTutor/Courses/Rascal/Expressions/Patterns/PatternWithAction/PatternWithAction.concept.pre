concept("PatternWithAction",|std:///experiments/RascalTutor/Courses/Rascal/Expressions/Patterns/PatternWithAction/PatternWithAction.concept|,[],[],{},{"Rule","Visit","Insert","Switch"},""," \<ol\>\n  \<li\> \<code\>\n    \<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\n  \</code\>\</li\>\n  \<li\> \<code\>\n    \<i\>Pattern\</i\>: \<i\>Statement\</i\>\n  \</code\>\</li\>\n  \n\</ol\>","","",{":","=\>"}," Patterns can be used in various contexts, but a common context is a PatternWithAction, \n which in its turn, may be used in various statements such \<a href=\"/show?concept=Switch\"\>Switch\</a\>, \<a href=\"/show?concept=Visit\"\>Visit\</a\> and \<a href=\"/show?concept=Rule\"\>Rule\</a\>.\n \<br/\>\n\<br/\>\n\n There are two variants as listed above:\n  \<ol\>\n  \<li\> When the subject matches \<code\>\n    \<i\>Pattern\</i\>\n  \</code\>, the expression \<code\>\n    \<i\>Exp\</i\>\n  \</code\> is evaluated and the subject is replaced with the result.\</li\>\n  \<li\> When the subject matches Pat, the Statement is executed.\</li\>\n  \n\</ol\> In \<a href=\"/show?concept=Switch\"\>Switch\</a\> statements, only the form \<code\>\n  \<i\>Pattern\</i\> : \<i\>Statement\</i\>\n\</code\> is allowed. \n When the subject matches \<code\>\n  \<i\>Pattern\</i\>\n\</code\>, the \<code\>\n  \<i\>Statement\</i\>\n\</code\> is executed and the execution of the switch statement is complete. \n However, when a fail statement is executed in \<code\>\n  \<i\>Statement\</i\>\n\</code\> all its side effects are undone and further alternatives of\n \<code\>\n  \<i\>Pattern\</i\>\n\</code\> are tried. If no alternatives remain, PatternWithAction as a whole fails and subsequent cases of \n the switch statement are tried.\n \<br/\>\n\<br/\>\n\n \<br/\>\n\<br/\>\n\n In \<a href=\"/show?concept=Visit\"\>Visit\</a\> expressions, the form \<code\>\n  \<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\n\</code\> describes subtree replacement: \n the current subtree of the subject of the visit expression is replaced by the value of \<code\>\n  \<i\>Exp\</i\>\n\</code\>. \n The form \<code\>\n  \<i\>Pattern\</i\> : \<i\>Statement\</i\>\n\</code\> is as described for switch statements, with the addition that execution of an \n \<a href=\"/show?concept=Insert\"\>Insert\</a\> statement will replace the current subtree. After both succes or failure of the PatternWithAction, \n the traversal of the subject continues.\n \<br/\>\n\<br/\>\n\n \<br/\>\n\<br/\>\n\n In rewrite rules, see \<a href=\"/show?concept=Rule\"\>Rule\</a\>, both forms are allowed. The form \<code\>\n  \<i\>Pattern\</i\> =\> \<i\>Exp\</i\>\n\</code\> behaves as described for visit expressions.\n The form \<code\>\n  \<i\>Pattern\</i\> : \<i\>Statement\</i\>\n\</code\> is as described for switch statement. If the PatternWithAction fails another\n rule will be tried. \n","","","",[])